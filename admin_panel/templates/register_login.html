{% extends "base_admin.html" %}

{% block content %}
<br><br>
<div class="auth-box">
    <div class="auth-toggle">
        <button id="loginBtn" onclick="showLogin()" class="toggle-btn active">Login</button>
        <button id="registerBtn" onclick="showRegister()" class="toggle-btn">Register</button>
    </div>

    <div id="loginForm" class="form-section">
        <h2>Login</h2>
        <form method="post" class="auth-form">
            {% csrf_token %}
            <input type="hidden" name="action" value="login">
            <div class="form-group">
                <label>Username</label>
                <input type="text" name="username" required>
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="text" name="password" required>
            </div>
            <button type="submit" class="btn btn-primary">Login</button>
        </form>
    </div>

    <div id="registerForm" class="form-section hidden" style="display:none;">
        <h2>Register</h2>
        <form method="post" class="auth-form">
            {% csrf_token %}
            <input type="hidden" name="action" value="register">
            <div class="form-group">
                <label>Username</label>
                <input type="text" name="username" required>
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="text" name="password" required>
            </div>
            <div class="form-group">
                <label>Name</label>
                <input type="text" name="name" required>
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="text" name="email" required>
            </div>
            <div class="form-group">
                <label>Age</label>
                <input type="number" name="age" required>
            </div>
            <br>
            <button type="submit" class="btn btn-success">Register</button>
        </form>
    </div>
    <br><br>
    {% for message in messages %}
        <p class="message">{{ message }}</p>
    {% endfor %}
</div>

<script>
    function showLogin() {
        document.getElementById("loginForm").classList.remove("hidden");
        document.getElementById("registerForm").classList.add("hidden");
        document.getElementById("loginBtn").classList.add("active");
        document.getElementById("registerBtn").classList.remove("active");
        document.getElementById("registerForm").style.display="none";
        document.getElementById("loginForm").style.display="block";
    }

    function showRegister() {
        document.getElementById("registerForm").classList.remove("hidden");
        document.getElementById("registerForm").style.display="block";
        document.getElementById("loginForm").style.display="none";
        document.getElementById("loginForm").classList.add("hidden");
        document.getElementById("registerBtn").classList.add("active");
        document.getElementById("loginBtn").classList.remove("active");
    }
</script>
{% endblock %}
